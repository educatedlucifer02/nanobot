services:
  - type: worker
    name: nanobot
    plan: free
    buildCommand: uv pip install --system -e .
    startCommand: nanobot gateway
    envVars:
      - key: NANOBOT__PROVIDERS__OPENAI__API_KEY
      - key: NANOBOT__PROVIDERS__OPENAI__API_BASE
        value: "https://integrate.api.nvidia.com/v1"
      - key: NANOBOT__AGENTS__DEFAULTS__MODEL
        value: "minimaxai/minimax-m2.1"
      - key: NANOBOT__CHANNELS__TELEGRAM__ENABLED
        value: "true"
      - key: NANOBOT__CHANNELS__TELEGRAM__TOKEN
      - key: NANOBOT__CHANNELS__WHATSAPP__ENABLED
        value: "false"
      - key: NANOBOT__CHANNELS__FEISHU__ENABLED
        value: "false"

# Current Configuration:
#
# - Provider: OpenAI with NVIDIA API endpoint (MiniMax M2.1 model)
# - Telegram: Enabled with bot token
#
# Required environment variables (for production, move API keys to Render dashboard):
#
# 1. NANOBOT__PROVIDERS__OPENAI__API_KEY - Your NVIDIA API key
#    Get one at: https://developer.nvidia.com/
#
# Note: Using OpenAI provider with NVIDIA API endpoint for MiniMax M2 model
#
# Optional channel configuration:
# 2. For Telegram:
#    - NANOBOT__CHANNELS__TELEGRAM__TOKEN (your bot token from @BotFather)
#    - NANOBOT__CHANNELS__TELEGRAM__ENABLED = "true"
#    - NANOBOT__CHANNELS__TELEGRAM__ALLOW_FROM (optional, list of user IDs)
#
# 3. For WhatsApp:
#    - NANOBOT__CHANNELS__WHATSAPP__ENABLED = "true"
#    - NANOBOT__CHANNELS__WHATSAPP__BRIDGE_URL (WebSocket URL to WhatsApp bridge)
#    - NANOBOT__CHANNELS__WHATSAPP__ALLOW_FROM (optional)
#
# 4. For Feishu:
#    - NANOBOT__CHANNELS__FEISHU__APP_ID (from Feishu Open Platform)
#    - NANOBOT__CHANNELS__FEISHU__APP_SECRET (from Feishu Open Platform)
#    - NANOBOT__CHANNELS__FEISHU__ENABLED = "true"
#
# Optional tools:
# 5. For web search:
#    - NANOBOT__TOOLS__WEB__SEARCH__API_KEY (Brave Search API key)
#
# See RENDER_DEPLOYMENT.md for detailed setup instructions.
